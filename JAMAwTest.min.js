"use strict";var TestMatrix=function(){function B(){}return B.runJAMATest=function(){var i,t,n,r,e,s,a,o,h,c,u,l,f,y=0,p=0,x=[1,2,3,4,5,6,7,8,9,10,11,12],d=[[1,4,7,10],[2,5,8,11],[3,6,9,12]],g=[d[0].slice(),d[1].slice(),d[2].slice()],v=[[1,4,7],[2,5,8,11],[3,6,9,12]],m=[1,2],M=[1,3],_=[1,2,3],$=[1,2,4];B.print$java_lang_String("\nTesting constructors and constructor-like methods...\n");try{D=new Matrix(x,5),y=B.try_failure(y,"Catch invalid length in packed constructor... ","exception not thrown for invalid input")}catch(t){B.try_success("Catch invalid length in packed constructor... ",t.message)}try{p=(D=new Matrix(v)).get(0,4)}catch(t){null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.IllegalArgumentException")&&B.try_success("Catch ragged input to default constructor... ",t.message),null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.ArrayIndexOutOfBoundsException")&&(y=B.try_failure(y,"Catch ragged input to constructor... ","exception not thrown in construction...ArrayIndexOutOfBoundsException thrown later"))}try{p=(D=Matrix.constructWithCopy(v)).get(0,4)}catch(t){null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.IllegalArgumentException")&&B.try_success("Catch ragged input to constructWithCopy... ",t.message),null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.ArrayIndexOutOfBoundsException")&&(y=B.try_failure(y,"Catch ragged input to constructWithCopy... ","exception not thrown in construction...ArrayIndexOutOfBoundsException thrown later"))}D=new Matrix(x,3),p=(i=new Matrix(d)).get(0,0),d[0][0]=0,t=i.minus(D),d[0][0]=p,p=(i=Matrix.constructWithCopy(d)).get(0,0),d[0][0]=0,p-i.get(0,0)!=0?y=B.try_failure(y,"constructWithCopy... ","copy not effected... data visible outside"):B.try_success("constructWithCopy... ",""),d[0][0]=x[0],e=new Matrix([[1,0,0,0],[0,1,0,0],[0,0,1,0]]);try{B.check$Matrix$Matrix(e,Matrix.identity(3,4)),B.try_success("identity... ","")}catch(t){y=B.try_failure(y,"identity... ","identity Matrix not successfully created")}B.print$java_lang_String("\nTesting access methods...\n"),3!==(i=new Matrix(d)).getRowDimension()?y=B.try_failure(y,"getRowDimension... ",""):B.try_success("getRowDimension... ",""),4!==i.getColumnDimension()?y=B.try_failure(y,"getColumnDimension... ",""):B.try_success("getColumnDimension... ","");var b=(i=new Matrix(d)).getArray();b!==d?y=B.try_failure(y,"getArray... ",""):B.try_success("getArray... ",""),(b=i.getArrayCopy())===d&&(y=B.try_failure(y,"getArrayCopy... ","data not (deep) copied"));try{B.check$double_A_A$double_A_A(b,d),B.try_success("getArrayCopy... ","")}catch(t){y=B.try_failure(y,"getArrayCopy... ","data not successfully (deep) copied")}var A=i.getColumnPackedCopy();try{B.check$double_A$double_A(A,x),B.try_success("getColumnPackedCopy... ","")}catch(t){y=B.try_failure(y,"getColumnPackedCopy... ","data not successfully (deep) copied by columns")}A=i.getRowPackedCopy();try{B.check$double_A$double_A(A,[1,4,7,10,2,5,8,11,3,6,9,12]),B.try_success("getRowPackedCopy... ","")}catch(t){y=B.try_failure(y,"getRowPackedCopy... ","data not successfully (deep) copied by rows")}try{p=i.get(i.getRowDimension(),i.getColumnDimension()-1),y=B.try_failure(y,"get(int,int)... ","OutOfBoundsException expected but not thrown")}catch(t){if(null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.ArrayIndexOutOfBoundsException"))try{p=i.get(i.getRowDimension()-1,i.getColumnDimension()),y=B.try_failure(y,"get(int,int)... ","OutOfBoundsException expected but not thrown")}catch(t){B.try_success("get(int,int)... OutofBoundsException... ","")}null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.IllegalArgumentException")&&(y=B.try_failure(y,"get(int,int)... ","OutOfBoundsException expected but not thrown"))}try{i.get(i.getRowDimension()-1,i.getColumnDimension()-1)!==d[i.getRowDimension()-1][i.getColumnDimension()-1]?y=B.try_failure(y,"get(int,int)... ","Matrix entry (i,j) not successfully retreived"):B.try_success("get(int,int)... ","")}catch(t){y=B.try_failure(y,"get(int,int)... ","Unexpected ArrayIndexOutOfBoundsException")}o=new Matrix([[5,8,11],[6,9,12]]);try{h=i.getMatrix$int$int$int$int(1,2+i.getRowDimension()+1,1,3),y=B.try_failure(y,"getMatrix(int,int,int,int)... ","ArrayIndexOutOfBoundsException expected but not thrown")}catch(t){if(null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.ArrayIndexOutOfBoundsException"))try{h=i.getMatrix$int$int$int$int(1,2,1,3+i.getColumnDimension()+1),y=B.try_failure(y,"getMatrix(int,int,int,int)... ","ArrayIndexOutOfBoundsException expected but not thrown")}catch(t){B.try_success("getMatrix(int,int,int,int)... ArrayIndexOutOfBoundsException... ","")}null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.IllegalArgumentException")&&(y=B.try_failure(y,"getMatrix(int,int,int,int)... ","ArrayIndexOutOfBoundsException expected but not thrown"))}try{h=i.getMatrix$int$int$int$int(1,2,1,3);try{B.check$Matrix$Matrix(o,h),B.try_success("getMatrix(int,int,int,int)... ","")}catch(t){y=B.try_failure(y,"getMatrix(int,int,int,int)... ","submatrix not successfully retreived")}}catch(t){y=B.try_failure(y,"getMatrix(int,int,int,int)... ","Unexpected ArrayIndexOutOfBoundsException")}try{h=i.getMatrix$int$int$int_A(1,2,$),y=B.try_failure(y,"getMatrix(int,int,int[])... ","ArrayIndexOutOfBoundsException expected but not thrown")}catch(t){if(null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.ArrayIndexOutOfBoundsException"))try{h=i.getMatrix$int$int$int_A(1,2+i.getRowDimension()+1,_),y=B.try_failure(y,"getMatrix(int,int,int[])... ","ArrayIndexOutOfBoundsException expected but not thrown")}catch(t){B.try_success("getMatrix(int,int,int[])... ArrayIndexOutOfBoundsException... ","")}null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.IllegalArgumentException")&&(y=B.try_failure(y,"getMatrix(int,int,int[])... ","ArrayIndexOutOfBoundsException expected but not thrown"))}try{h=i.getMatrix$int$int$int_A(1,2,_);try{B.check$Matrix$Matrix(o,h),B.try_success("getMatrix(int,int,int[])... ","")}catch(t){y=B.try_failure(y,"getMatrix(int,int,int[])... ","submatrix not successfully retreived")}}catch(t){y=B.try_failure(y,"getMatrix(int,int,int[])... ","Unexpected ArrayIndexOutOfBoundsException")}try{h=i.getMatrix$int_A$int$int(M,1,3),y=B.try_failure(y,"getMatrix(int[],int,int)... ","ArrayIndexOutOfBoundsException expected but not thrown")}catch(t){if(null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.ArrayIndexOutOfBoundsException"))try{h=i.getMatrix$int_A$int$int(m,1,3+i.getColumnDimension()+1),y=B.try_failure(y,"getMatrix(int[],int,int)... ","ArrayIndexOutOfBoundsException expected but not thrown")}catch(t){B.try_success("getMatrix(int[],int,int)... ArrayIndexOutOfBoundsException... ","")}null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.IllegalArgumentException")&&(y=B.try_failure(y,"getMatrix(int[],int,int)... ","ArrayIndexOutOfBoundsException expected but not thrown"))}try{h=i.getMatrix$int_A$int$int(m,1,3);try{B.check$Matrix$Matrix(o,h),B.try_success("getMatrix(int[],int,int)... ","")}catch(t){y=B.try_failure(y,"getMatrix(int[],int,int)... ","submatrix not successfully retreived")}}catch(t){y=B.try_failure(y,"getMatrix(int[],int,int)... ","Unexpected ArrayIndexOutOfBoundsException")}try{h=i.getMatrix$int_A$int_A(M,_),y=B.try_failure(y,"getMatrix(int[],int[])... ","ArrayIndexOutOfBoundsException expected but not thrown")}catch(t){if(null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.ArrayIndexOutOfBoundsException"))try{h=i.getMatrix$int_A$int_A(m,$),y=B.try_failure(y,"getMatrix(int[],int[])... ","ArrayIndexOutOfBoundsException expected but not thrown")}catch(t){B.try_success("getMatrix(int[],int[])... ArrayIndexOutOfBoundsException... ","")}null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.IllegalArgumentException")&&(y=B.try_failure(y,"getMatrix(int[],int[])... ","ArrayIndexOutOfBoundsException expected but not thrown"))}try{h=i.getMatrix$int_A$int_A(m,_);try{B.check$Matrix$Matrix(o,h),B.try_success("getMatrix(int[],int[])... ","")}catch(t){y=B.try_failure(y,"getMatrix(int[],int[])... ","submatrix not successfully retreived")}}catch(t){y=B.try_failure(y,"getMatrix(int[],int[])... ","Unexpected ArrayIndexOutOfBoundsException")}try{i.set(i.getRowDimension(),i.getColumnDimension()-1,0),y=B.try_failure(y,"set(int,int,double)... ","OutOfBoundsException expected but not thrown")}catch(t){if(null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.ArrayIndexOutOfBoundsException"))try{i.set(i.getRowDimension()-1,i.getColumnDimension(),0),y=B.try_failure(y,"set(int,int,double)... ","OutOfBoundsException expected but not thrown")}catch(t){B.try_success("set(int,int,double)... OutofBoundsException... ","")}null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.IllegalArgumentException")&&(y=B.try_failure(y,"set(int,int,double)... ","OutOfBoundsException expected but not thrown"))}try{i.set(1,1,0),p=i.get(1,1);try{B.check$double$double(p,0),B.try_success("set(int,int,double)... ","")}catch(t){y=B.try_failure(y,"set(int,int,double)... ","Matrix element not successfully set")}}catch(t){y=B.try_failure(y,"set(int,int,double)... ","Unexpected ArrayIndexOutOfBoundsException")}h=new Matrix(2,3,0);try{i.setMatrix$int$int$int$int$Matrix(1,2+i.getRowDimension()+1,1,3,h),y=B.try_failure(y,"setMatrix(int,int,int,int,Matrix)... ","ArrayIndexOutOfBoundsException expected but not thrown")}catch(t){if(null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.ArrayIndexOutOfBoundsException"))try{i.setMatrix$int$int$int$int$Matrix(1,2,1,3+i.getColumnDimension()+1,h),y=B.try_failure(y,"setMatrix(int,int,int,int,Matrix)... ","ArrayIndexOutOfBoundsException expected but not thrown")}catch(t){B.try_success("setMatrix(int,int,int,int,Matrix)... ArrayIndexOutOfBoundsException... ","")}null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.IllegalArgumentException")&&(y=B.try_failure(y,"setMatrix(int,int,int,int,Matrix)... ","ArrayIndexOutOfBoundsException expected but not thrown"))}try{i.setMatrix$int$int$int$int$Matrix(1,2,1,3,h);try{B.check$Matrix$Matrix(h.minus(i.getMatrix$int$int$int$int(1,2,1,3)),h),B.try_success("setMatrix(int,int,int,int,Matrix)... ","")}catch(t){y=B.try_failure(y,"setMatrix(int,int,int,int,Matrix)... ","submatrix not successfully set")}i.setMatrix$int$int$int$int$Matrix(1,2,1,3,o)}catch(t){y=B.try_failure(y,"setMatrix(int,int,int,int,Matrix)... ","Unexpected ArrayIndexOutOfBoundsException")}try{i.setMatrix$int$int$int_A$Matrix(1,2+i.getRowDimension()+1,_,h),y=B.try_failure(y,"setMatrix(int,int,int[],Matrix)... ","ArrayIndexOutOfBoundsException expected but not thrown")}catch(t){if(null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.ArrayIndexOutOfBoundsException"))try{i.setMatrix$int$int$int_A$Matrix(1,2,$,h),y=B.try_failure(y,"setMatrix(int,int,int[],Matrix)... ","ArrayIndexOutOfBoundsException expected but not thrown")}catch(t){B.try_success("setMatrix(int,int,int[],Matrix)... ArrayIndexOutOfBoundsException... ","")}null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.IllegalArgumentException")&&(y=B.try_failure(y,"setMatrix(int,int,int[],Matrix)... ","ArrayIndexOutOfBoundsException expected but not thrown"))}try{i.setMatrix$int$int$int_A$Matrix(1,2,_,h);try{B.check$Matrix$Matrix(h.minus(i.getMatrix$int$int$int_A(1,2,_)),h),B.try_success("setMatrix(int,int,int[],Matrix)... ","")}catch(t){y=B.try_failure(y,"setMatrix(int,int,int[],Matrix)... ","submatrix not successfully set")}i.setMatrix$int$int$int$int$Matrix(1,2,1,3,o)}catch(t){y=B.try_failure(y,"setMatrix(int,int,int[],Matrix)... ","Unexpected ArrayIndexOutOfBoundsException")}try{i.setMatrix$int_A$int$int$Matrix(m,1,3+i.getColumnDimension()+1,h),y=B.try_failure(y,"setMatrix(int[],int,int,Matrix)... ","ArrayIndexOutOfBoundsException expected but not thrown")}catch(t){if(null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.ArrayIndexOutOfBoundsException"))try{i.setMatrix$int_A$int$int$Matrix(M,1,3,h),y=B.try_failure(y,"setMatrix(int[],int,int,Matrix)... ","ArrayIndexOutOfBoundsException expected but not thrown")}catch(t){B.try_success("setMatrix(int[],int,int,Matrix)... ArrayIndexOutOfBoundsException... ","")}null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.IllegalArgumentException")&&(y=B.try_failure(y,"setMatrix(int[],int,int,Matrix)... ","ArrayIndexOutOfBoundsException expected but not thrown"))}try{i.setMatrix$int_A$int$int$Matrix(m,1,3,h);try{B.check$Matrix$Matrix(h.minus(i.getMatrix$int_A$int$int(m,1,3)),h),B.try_success("setMatrix(int[],int,int,Matrix)... ","")}catch(t){y=B.try_failure(y,"setMatrix(int[],int,int,Matrix)... ","submatrix not successfully set")}i.setMatrix$int$int$int$int$Matrix(1,2,1,3,o)}catch(t){y=B.try_failure(y,"setMatrix(int[],int,int,Matrix)... ","Unexpected ArrayIndexOutOfBoundsException")}try{i.setMatrix$int_A$int_A$Matrix(m,$,h),y=B.try_failure(y,"setMatrix(int[],int[],Matrix)... ","ArrayIndexOutOfBoundsException expected but not thrown")}catch(t){if(null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.ArrayIndexOutOfBoundsException"))try{i.setMatrix$int_A$int_A$Matrix(M,_,h),y=B.try_failure(y,"setMatrix(int[],int[],Matrix)... ","ArrayIndexOutOfBoundsException expected but not thrown")}catch(t){B.try_success("setMatrix(int[],int[],Matrix)... ArrayIndexOutOfBoundsException... ","")}null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.IllegalArgumentException")&&(y=B.try_failure(y,"setMatrix(int[],int[],Matrix)... ","ArrayIndexOutOfBoundsException expected but not thrown"))}try{i.setMatrix$int_A$int_A$Matrix(m,_,h);try{B.check$Matrix$Matrix(h.minus(i.getMatrix$int_A$int_A(m,_)),h),B.try_success("setMatrix(int[],int[],Matrix)... ","")}catch(t){y=B.try_failure(y,"setMatrix(int[],int[],Matrix)... ","submatrix not successfully set")}}catch(t){y=B.try_failure(y,"setMatrix(int[],int[],Matrix)... ","Unexpected ArrayIndexOutOfBoundsException")}B.print$java_lang_String("\nTesting array-like methods...\n"),s=new Matrix(x,4),D=E=Matrix.random(D.getRowDimension(),D.getColumnDimension());try{s=D.minus(s),y=B.try_failure(y,"minus conformance check... ","nonconformance not raised")}catch(t){B.try_success("minus conformance check... ","")}0!==D.minus(E).norm1()?y=B.try_failure(y,"minus... ","(difference of identical Matrices is nonzero,\nSubsequent use of minus should be suspect)"):B.try_success("minus... ",""),(D=E.copy()).minusEquals(E),n=new Matrix(D.getRowDimension(),D.getColumnDimension());try{D.minusEquals(s),y=B.try_failure(y,"minusEquals conformance check... ","nonconformance not raised")}catch(t){B.try_success("minusEquals conformance check... ","")}0!==D.minus(n).norm1()?y=B.try_failure(y,"minusEquals... ","(difference of identical Matrices is nonzero,\nSubsequent use of minus should be suspect)"):B.try_success("minusEquals... ",""),D=E.copy(),i=Matrix.random(D.getRowDimension(),D.getColumnDimension()),t=D.minus(i);try{s=D.plus(s),y=B.try_failure(y,"plus conformance check... ","nonconformance not raised")}catch(t){B.try_success("plus conformance check... ","")}try{B.check$Matrix$Matrix(t.plus(i),D),B.try_success("plus... ","")}catch(t){y=B.try_failure(y,"plus... ","(C = A - B, but C + B != A)")}(t=D.minus(i)).plusEquals(i);try{D.plusEquals(s),y=B.try_failure(y,"plusEquals conformance check... ","nonconformance not raised")}catch(t){B.try_success("plusEquals conformance check... ","")}try{B.check$Matrix$Matrix(t,D),B.try_success("plusEquals... ","")}catch(t){y=B.try_failure(y,"plusEquals... ","(C = A - B, but C = C + B != A)")}D=E.uminus();try{B.check$Matrix$Matrix(D.plus(E),n),B.try_success("uminus... ","")}catch(t){y=B.try_failure(y,"uminus... ","(-A + A != zeros)")}D=E.copy(),r=new Matrix(D.getRowDimension(),D.getColumnDimension(),1),t=D.arrayLeftDivide(E);try{s=D.arrayLeftDivide(s),y=B.try_failure(y,"arrayLeftDivide conformance check... ","nonconformance not raised")}catch(t){B.try_success("arrayLeftDivide conformance check... ","")}try{B.check$Matrix$Matrix(t,r),B.try_success("arrayLeftDivide... ","")}catch(t){y=B.try_failure(y,"arrayLeftDivide... ","(M.\\M != ones)")}try{D.arrayLeftDivideEquals(s),y=B.try_failure(y,"arrayLeftDivideEquals conformance check... ","nonconformance not raised")}catch(t){B.try_success("arrayLeftDivideEquals conformance check... ","")}D.arrayLeftDivideEquals(E);try{B.check$Matrix$Matrix(D,r),B.try_success("arrayLeftDivideEquals... ","")}catch(t){y=B.try_failure(y,"arrayLeftDivideEquals... ","(M.\\M != ones)")}D=E.copy();try{D.arrayRightDivide(s),y=B.try_failure(y,"arrayRightDivide conformance check... ","nonconformance not raised")}catch(t){B.try_success("arrayRightDivide conformance check... ","")}t=D.arrayRightDivide(E);try{B.check$Matrix$Matrix(t,r),B.try_success("arrayRightDivide... ","")}catch(t){y=B.try_failure(y,"arrayRightDivide... ","(M./M != ones)")}try{D.arrayRightDivideEquals(s),y=B.try_failure(y,"arrayRightDivideEquals conformance check... ","nonconformance not raised")}catch(t){B.try_success("arrayRightDivideEquals conformance check... ","")}D.arrayRightDivideEquals(E);try{B.check$Matrix$Matrix(D,r),B.try_success("arrayRightDivideEquals... ","")}catch(t){y=B.try_failure(y,"arrayRightDivideEquals... ","(M./M != ones)")}D=E.copy(),i=Matrix.random(D.getRowDimension(),D.getColumnDimension());try{s=D.arrayTimes(s),y=B.try_failure(y,"arrayTimes conformance check... ","nonconformance not raised")}catch(t){B.try_success("arrayTimes conformance check... ","")}t=D.arrayTimes(i);try{B.check$Matrix$Matrix(t.arrayRightDivideEquals(i),D),B.try_success("arrayTimes... ","")}catch(t){y=B.try_failure(y,"arrayTimes... ","(A = R, C = A.*B, but C./B != A)")}try{D.arrayTimesEquals(s),y=B.try_failure(y,"arrayTimesEquals conformance check... ","nonconformance not raised")}catch(t){B.try_success("arrayTimesEquals conformance check... ","")}D.arrayTimesEquals(i);try{B.check$Matrix$Matrix(D.arrayRightDivideEquals(i),E),B.try_success("arrayTimesEquals... ","")}catch(t){y=B.try_failure(y,"arrayTimesEquals... ","(A = R, A = A.*B, but A./B != R)")}B.print$java_lang_String("\nTesting I/O methods...\n"),B.print$java_lang_String("\nTesting linear algebra methods...\n"),D=new Matrix(x,3),new Matrix([[1,2,3],[4,5,6],[7,8,9],[10,11,12]]),c=D.transpose();try{B.check$Matrix$Matrix(D.transpose(),c),B.try_success("transpose...","")}catch(t){y=B.try_failure(y,"transpose()...","transpose unsuccessful")}D.transpose();try{B.check$double$double(D.norm1(),33),B.try_success("norm1...","")}catch(t){y=B.try_failure(y,"norm1()...","incorrect norm calculation")}try{B.check$double$double(D.normInf(),30),B.try_success("normInf()...","")}catch(t){y=B.try_failure(y,"normInf()...","incorrect norm calculation")}try{B.check$double$double(D.normF(),Math.sqrt(650)),B.try_success("normF...","")}catch(t){y=B.try_failure(y,"normF()...","incorrect norm calculation")}try{B.check$double$double(D.trace(),15),B.try_success("trace()...","")}catch(t){y=B.try_failure(y,"trace()...","incorrect trace calculation")}try{B.check$double$double(D.getMatrix$int$int$int$int(0,D.getRowDimension()-1,0,D.getRowDimension()-1).det(),0),B.try_success("det()...","")}catch(t){y=B.try_failure(y,"det()...","incorrect determinant calculation")}u=new Matrix([[166,188,210],[188,214,240],[210,240,270]]);try{B.check$Matrix$Matrix(D.times$Matrix(D.transpose()),u),B.try_success("times(Matrix)...","")}catch(t){y=B.try_failure(y,"times(Matrix)...","incorrect Matrix-Matrix product calculation")}try{B.check$Matrix$Matrix(D.times$double(0),n),B.try_success("times(double)...","")}catch(t){y=B.try_failure(y,"times(double)...","incorrect Matrix-scalar product calculation")}var w=(D=new Matrix(x,4)).qr(),E=w.getR();try{B.check$Matrix$Matrix(D,w.getQ().times$Matrix(E)),B.try_success("QRDecomposition...","")}catch(t){y=B.try_failure(y,"QRDecomposition...","incorrect QR decomposition calculation")}var O=D.svd();try{B.check$Matrix$Matrix(D,O.getU().times$Matrix(O.getS().times$Matrix(O.getV().transpose()))),B.try_success("SingularValueDecomposition...","")}catch(t){y=B.try_failure(y,"SingularValueDecomposition...","incorrect singular value decomposition calculation")}l=new Matrix(g);try{B.check$double$double(l.rank(),Math.min(l.getRowDimension(),l.getColumnDimension())-1),B.try_success("rank()...","")}catch(t){y=B.try_failure(y,"rank()...","incorrect rank calculation")}var j=(O=(i=new Matrix([[1,3],[7,9]])).svd()).getSingularValues();try{B.check$double$double(i.cond(),j[0]/j[Math.min(i.getRowDimension(),i.getColumnDimension())-1]),B.try_success("cond()...","")}catch(t){y=B.try_failure(y,"cond()...","incorrect condition number calculation")}var D,H=D.getColumnDimension();(D=D.getMatrix$int$int$int$int(0,H-1,0,H-1)).set(0,0,0);var R=D.lu();try{B.check$Matrix$Matrix(D.getMatrix$int_A$int$int(R.getPivot(),0,H-1),R.getL().times$Matrix(R.getU())),B.try_success("LUDecomposition...","")}catch(t){y=B.try_failure(y,"LUDecomposition...","incorrect LU decomposition calculation")}a=D.inverse();try{B.check$Matrix$Matrix(D.times$Matrix(a),Matrix.identity(3,3)),B.try_success("inverse()...","")}catch(t){y=B.try_failure(y,"inverse()...","incorrect inverse calculation")}r=new Matrix(o.getRowDimension(),1,1),f=new Matrix([[13],[15]]),u=o.getMatrix$int$int$int$int(0,o.getRowDimension()-1,0,o.getRowDimension()-1);try{B.check$Matrix$Matrix(u.solve(f),r),B.try_success("solve()...","")}catch(t){null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.IllegalArgumentException")&&(y=B.try_failure(y,"solve()...",t.message)),(null!=t&&t.__classes&&0<=t.__classes.indexOf("java.lang.RuntimeException")||null!=t&&t instanceof Error)&&(y=B.try_failure(y,"solve()...",t.message))}var g=(D=new Matrix([[4,1,1],[1,2,3],[1,3,6]])).chol(),k=g.getL();try{B.check$Matrix$Matrix(D,k.times$Matrix(k.transpose())),B.try_success("CholeskyDecomposition...","")}catch(t){y=B.try_failure(y,"CholeskyDecomposition...","incorrect Cholesky decomposition calculation")}a=g.solve(Matrix.identity(3,3));try{B.check$Matrix$Matrix(D.times$Matrix(a),Matrix.identity(3,3)),B.try_success("CholeskyDecomposition solve()...","")}catch(t){y=B.try_failure(y,"CholeskyDecomposition solve()...","incorrect Choleskydecomposition solve calculation")}var g=D.eig(),V=g.getD(),I=g.getV();try{B.check$Matrix$Matrix(D.times$Matrix(I),I.times$Matrix(V)),B.try_success("EigenvalueDecomposition (symmetric)...","")}catch(t){y=B.try_failure(y,"EigenvalueDecomposition (symmetric)...","incorrect symmetric Eigenvalue decomposition calculation")}V=(g=(D=new Matrix([[0,1,0,0],[1,0,2e-7,0],[0,-2e-7,0,1],[0,0,1,0]])).eig()).getD(),I=g.getV();try{B.check$Matrix$Matrix(D.times$Matrix(I),I.times$Matrix(V)),B.try_success("EigenvalueDecomposition (nonsymmetric)...","")}catch(t){y=B.try_failure(y,"EigenvalueDecomposition (nonsymmetric)...","incorrect nonsymmetric Eigenvalue decomposition calculation")}try{B.print$java_lang_String("\nTesting Eigenvalue; If this hangs, we've failed\n");new Matrix([[0,0,0,0,0],[0,0,0,0,1],[0,0,0,1,0],[1,1,0,0,1],[1,0,1,0,1]]).eig();B.try_success("EigenvalueDecomposition (hang)...","")}catch(t){y=B.try_failure(y,"EigenvalueDecomposition (hang)...","incorrect termination")}B.print$java_lang_String("\nTestMatrix completed.\n"),B.print$java_lang_String("Total errors reported: "+y+"\n"),B.print$java_lang_String("Total warnings reported: 0\n")},B.check$double$double=function(t,i){var n,r,e=Math.pow(2,-52);if((n=0===t,r=Math.abs(i)<10*e,!n||!r)&&(n=0===i,r=Math.abs(t)<10*e,(!n||!r)&&Math.abs(t-i)>10*e*Math.max(Math.abs(t),Math.abs(i))))throw Object.defineProperty(new Error("The difference x-y is too large: x = "+t+"  y = "+i),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.Exception"]})},B.check$double_A$double_A=function(t,i){if(t.length!==i.length)throw Object.defineProperty(new Error("Attempt to compare vectors of different lengths"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.Exception"]});for(var n=0;n<t.length;n++)B.check$double$double(t[n],i[n])},B.check=function(t,i){if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"==typeof t[0])||null===t)&&(null!=i&&i instanceof Array&&(0==i.length||null==i[0]||"number"==typeof i[0])||null===i))return B.check$double_A$double_A(t,i);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||t[0]instanceof Array)||null===t)&&(null!=i&&i instanceof Array&&(0==i.length||null==i[0]||i[0]instanceof Array)||null===i))return B.check$double_A_A$double_A_A(t,i);if((null!=t&&t instanceof Matrix||null===t)&&(null!=i&&i instanceof Matrix||null===i))return B.check$Matrix$Matrix(t,i);if("number"!=typeof t&&null!==t||"number"!=typeof i&&null!==i)throw new Error("invalid overload");return B.check$double$double(t,i)},B.check$double_A_A$double_A_A=function(t,i){t=new Matrix(t),i=new Matrix(i);B.check$Matrix$Matrix(t,i)},B.check$Matrix$Matrix=function(t,i){var n,r,e=Math.pow(2,-52);if((n=0===t.norm1(),r=i.norm1()<10*e,!n||!r)&&(n=0===i.norm1(),r=t.norm1()<10*e,(!n||!r)&&t.minus(i).norm1()>1e3*e*Math.max(t.norm1(),i.norm1())))throw Object.defineProperty(new Error("The norm of (X-Y) is too large: "+t.minus(i).norm1()),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.Exception"]})},B.print$java_lang_String=function(t){console.info(t)},B.try_success=function(t,i){B.print$java_lang_String(">    "+t+"success\n"),""!==i&&B.print$java_lang_String(">      Message: "+i+"\n")},B.try_failure=function(t,i,n){return B.print$java_lang_String(">    "+i+"*** failure ***\n>      Message: "+n+"\n"),++t},B.try_warning=function(t,i,n){return B.print$java_lang_String(">    "+i+"*** warning ***\n>      Message: "+n+"\n"),++t},B.print$double_A$int$int=function(t,i,n){console.info("\n"),new Matrix(t,1).print(i,n),B.print$java_lang_String("\n")},B.print=function(t,i,n){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"==typeof t[0])||null===t)||"number"!=typeof i&&null!==i||"number"!=typeof n&&null!==n){if("string"!=typeof t&&null!==t||void 0!==i||void 0!==n)throw new Error("invalid overload");return B.print$java_lang_String(t)}return B.print$double_A$int$int(t,i,n)},B}();TestMatrix.__class="TestMatrix";var Maths=function(){function t(){}return t.hypot=function(t,i){var n=Math.abs(t)>Math.abs(i)?(n=i/t,Math.abs(t)*Math.sqrt(1+n*n)):0!==i?(n=t/i,Math.abs(i)*Math.sqrt(1+n*n)):0;return n},t}();Maths.__class="Maths";var SingularValueDecomposition=function(){function t(t){void 0===this.U&&(this.U=null),void 0===this.V&&(this.V=null),void 0===this.s&&(this.s=null),void 0===this.m&&(this.m=0),void 0===this.n&&(this.n=0);var i=t.getArrayCopy();this.m=t.getRowDimension(),this.n=t.getColumnDimension();var r,e,n=Math.min(this.m,this.n);this.s=function(t){for(var i=[];0<t--;)i.push(0);return i}(Math.min(this.m+1,this.n)),this.U=(t=[this.m,n],(r=function(t){if(0===t.length)return 0;for(var i=[],n=0;n<t[0];n++)i.push(r(t.slice(1)));return i})(t)),this.V=(t=[this.n,this.n],(e=function(t){if(0===t.length)return 0;for(var i=[],n=0;n<t[0];n++)i.push(e(t.slice(1)));return i})(t));for(var s,a,o,h,c=function(t){for(var i=[];0<t--;)i.push(0);return i}(this.n),u=function(t){for(var i=[];0<t--;)i.push(0);return i}(this.m),l=Math.min(this.m-1,this.n),f=Math.max(0,Math.min(this.n-2,this.m)),y=0;y<Math.max(l,f);y++){if(y<l){this.s[y]=0;for(var p=y;p<this.m;p++)this.s[y]=Maths.hypot(this.s[y],i[p][y]);if(0!==this.s[y]){i[y][y]<0&&(this.s[y]=-this.s[y]);for(p=y;p<this.m;p++)i[p][y]/=this.s[y];i[y][y]+=1}this.s[y]=-this.s[y]}for(var x=y+1;x<this.n;x++){if(o=y<l,h=0!==this.s[y],o&&h){for(var d=0,p=y;p<this.m;p++)d+=i[p][y]*i[p][x];d=-d/i[y][y];for(p=y;p<this.m;p++)i[p][x]+=d*i[p][y]}c[x]=i[y][x]}if(y<l)for(p=y;p<this.m;p++)this.U[p][y]=i[p][y];if(y<f){c[y]=0;for(p=y+1;p<this.n;p++)c[y]=Maths.hypot(c[y],c[p]);if(0!==c[y]){c[y+1]<0&&(c[y]=-c[y]);for(p=y+1;p<this.n;p++)c[p]/=c[y];c[y+1]+=1}if(c[y]=-c[y],s=y+1<this.m,a=0!==c[y],s&&a){for(p=y+1;p<this.m;p++)u[p]=0;for(x=y+1;x<this.n;x++)for(p=y+1;p<this.m;p++)u[p]+=c[x]*i[p][x];for(x=y+1;x<this.n;x++)for(d=-c[x]/c[y+1],p=y+1;p<this.m;p++)i[p][x]+=d*u[p]}for(p=y+1;p<this.n;p++)this.V[p][y]=c[p]}}var g=Math.min(this.n,this.m+1);l<this.n&&(this.s[l]=i[l][l]),this.m<g&&(this.s[g-1]=0),f+1<g&&(c[f]=i[f][g-1]),c[g-1]=0;for(x=l;x<n;x++){for(p=0;p<this.m;p++)this.U[p][x]=0;this.U[x][x]=1}for(y=l-1;0<=y;y--)if(0!==this.s[y]){for(x=y+1;x<n;x++){for(d=0,p=y;p<this.m;p++)d+=this.U[p][y]*this.U[p][x];d=-d/this.U[y][y];for(p=y;p<this.m;p++)this.U[p][x]+=d*this.U[p][y]}for(p=y;p<this.m;p++)this.U[p][y]=-this.U[p][y];this.U[y][y]=1+this.U[y][y];for(p=0;p<y-1;p++)this.U[p][y]=0}else{for(p=0;p<this.m;p++)this.U[p][y]=0;this.U[y][y]=1}for(var v,m,y=this.n-1;0<=y;y--){if(v=y<f,m=0!==c[y],v&&m)for(x=y+1;x<n;x++){for(d=0,p=y+1;p<this.n;p++)d+=this.V[p][y]*this.V[p][x];d=-d/this.V[y+1][y];for(p=y+1;p<this.n;p++)this.V[p][x]+=d*this.V[p][y]}for(p=0;p<this.n;p++)this.V[p][y]=0;this.V[y][y]=1}for(var M=g-1,_=Math.pow(2,-52),$=Math.pow(2,-966);0<g;){var y=void 0,b=void 0;for(y=g-2;-1<=y&&-1!==y;y--)if(Math.abs(c[y])<=$+_*(Math.abs(this.s[y])+Math.abs(this.s[y+1]))){c[y]=0;break}if(y===g-2)b=4;else{for(var A=void 0,A=g-1;y<=A&&A!==y;A--){d=(A!==g?Math.abs(c[A]):0)+(A!==y+1?Math.abs(c[A-1]):0);if(Math.abs(this.s[A])<=$+_*d){this.s[A]=0;break}}A===y?b=3:A===g-1?b=1:(b=2,y=A)}switch(y++,b){case 1:var w=c[g-2];c[g-2]=0;for(x=g-2;y<=x;x--){var d=Maths.hypot(this.s[x],w),E=this.s[x]/d,O=w/d;this.s[x]=d,x!==y&&(w=-O*c[x-1],c[x-1]=E*c[x-1]);for(p=0;p<this.n;p++)d=E*this.V[p][x]+O*this.V[p][g-1],this.V[p][g-1]=-O*this.V[p][x]+E*this.V[p][g-1],this.V[p][x]=d}break;case 2:w=c[y-1];c[y-1]=0;for(x=y;x<g;x++){d=Maths.hypot(this.s[x],w),E=this.s[x]/d,O=w/d;this.s[x]=d,w=-O*c[x],c[x]=E*c[x];for(p=0;p<this.m;p++)d=E*this.U[p][x]+O*this.U[p][y-1],this.U[p][y-1]=-O*this.U[p][x]+E*this.U[p][y-1],this.U[p][x]=d}break;case 3:var j=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[g-1]),Math.abs(this.s[g-2])),Math.abs(c[g-2])),Math.abs(this.s[y])),Math.abs(c[y])),D=this.s[g-1]/j,H=this.s[g-2]/j,R=c[g-2]/j,k=this.s[y]/j,V=c[y]/j,j=((H+D)*(H-D)+R*R)/2,H=D*R*(D*R),R=0;0==j&&0==H||(R=Math.sqrt(j*j+H),j<0&&(R=-R),R=H/(j+R));for(var w=(k+D)*(k-D)+R,I=k*V,x=y;x<g-1;x++){E=w/(d=Maths.hypot(w,I)),O=I/d;x!==y&&(c[x-1]=d),w=E*this.s[x]+O*c[x],c[x]=E*c[x]-O*this.s[x],I=O*this.s[x+1],this.s[x+1]=E*this.s[x+1];for(p=0;p<this.n;p++)d=E*this.V[p][x]+O*this.V[p][x+1],this.V[p][x+1]=-O*this.V[p][x]+E*this.V[p][x+1],this.V[p][x]=d;if(E=w/(d=Maths.hypot(w,I)),O=I/d,this.s[x]=d,w=E*c[x]+O*this.s[x+1],this.s[x+1]=-O*c[x]+E*this.s[x+1],I=O*c[x+1],c[x+1]=E*c[x+1],x<this.m-1)for(p=0;p<this.m;p++)d=E*this.U[p][x]+O*this.U[p][x+1],this.U[p][x+1]=-O*this.U[p][x]+E*this.U[p][x+1],this.U[p][x]=d}c[g-2]=w,0;break;case 4:if(this.s[y]<=0){this.s[y]=this.s[y]<0?-this.s[y]:0;for(p=0;p<=M;p++)this.V[p][y]=-this.V[p][y]}for(;y<M&&!(this.s[y]>=this.s[y+1]);){d=this.s[y];if(this.s[y]=this.s[y+1],this.s[y+1]=d,y<this.n-1)for(p=0;p<this.n;p++)d=this.V[p][y+1],this.V[p][y+1]=this.V[p][y],this.V[p][y]=d;if(y<this.m-1)for(p=0;p<this.m;p++)d=this.U[p][y+1],this.U[p][y+1]=this.U[p][y],this.U[p][y]=d;y++}g--}}}return t.prototype.getU=function(){return new Matrix(this.U,this.m,Math.min(this.m+1,this.n))},t.prototype.getV=function(){return new Matrix(this.V,this.n,this.n)},t.prototype.getSingularValues=function(){return this.s},t.prototype.getS=function(){for(var t=new Matrix(this.n,this.n),i=t.getArray(),n=0;n<this.n;n++){for(var r=0;r<this.n;r++)i[n][r]=0;i[n][n]=this.s[n]}return t},t.prototype.norm2=function(){return this.s[0]},t.prototype.cond=function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]},t.prototype.rank=function(){for(var t=Math.pow(2,-52),i=Math.max(this.m,this.n)*this.s[0]*t,n=0,r=0;r<this.s.length;r++)this.s[r]>i&&n++;return n},t.serialVersionUID=1,t}();SingularValueDecomposition.__class="SingularValueDecomposition",SingularValueDecomposition.__interfaces=["java.io.Serializable"];var QRDecomposition=function(){function t(t){void 0===this.QR&&(this.QR=null),void 0===this.m&&(this.m=0),void 0===this.n&&(this.n=0),void 0===this.Rdiag&&(this.Rdiag=null),this.QR=t.getArrayCopy(),this.m=t.getRowDimension(),this.n=t.getColumnDimension(),this.Rdiag=function(t){for(var i=[];0<t--;)i.push(0);return i}(this.n);for(var i=0;i<this.n;i++){for(var n=0,r=i;r<this.m;r++)n=Maths.hypot(n,this.QR[r][i]);if(0!==n){this.QR[i][i]<0&&(n=-n);for(r=i;r<this.m;r++)this.QR[r][i]/=n;this.QR[i][i]+=1;for(var e=i+1;e<this.n;e++){for(var s=0,r=i;r<this.m;r++)s+=this.QR[r][i]*this.QR[r][e];s=-s/this.QR[i][i];for(r=i;r<this.m;r++)this.QR[r][e]+=s*this.QR[r][i]}}this.Rdiag[i]=-n}}return t.prototype.isFullRank=function(){for(var t=0;t<this.n;t++)if(0===this.Rdiag[t])return!1;return!0},t.prototype.getH=function(){for(var t=new Matrix(this.m,this.n),i=t.getArray(),n=0;n<this.m;n++)for(var r=0;r<this.n;r++)i[n][r]=r<=n?this.QR[n][r]:0;return t},t.prototype.getR=function(){for(var t=new Matrix(this.n,this.n),i=t.getArray(),n=0;n<this.n;n++)for(var r=0;r<this.n;r++)i[n][r]=n<r?this.QR[n][r]:n===r?this.Rdiag[n]:0;return t},t.prototype.getQ=function(){for(var t=new Matrix(this.m,this.n),i=t.getArray(),n=this.n-1;0<=n;n--){for(var r=0;r<this.m;r++)i[r][n]=0;i[n][n]=1;for(var e=n;e<this.n;e++)if(0!==this.QR[n][n]){for(var s=0,r=n;r<this.m;r++)s+=this.QR[r][n]*i[r][e];s=-s/this.QR[n][n];for(r=n;r<this.m;r++)i[r][e]+=s*this.QR[r][n]}}return t},t.prototype.solve=function(t){if(t.getRowDimension()!==this.m)throw Object.defineProperty(new Error("Matrix row dimensions must agree."),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});if(!this.isFullRank())throw Object.defineProperty(new Error("Matrix is rank deficient."),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.Exception"]});for(var i=t.getColumnDimension(),n=t.getArrayCopy(),r=0;r<this.n;r++)for(var e=0;e<i;e++){for(var s=0,a=r;a<this.m;a++)s+=this.QR[a][r]*n[a][e];s=-s/this.QR[r][r];for(a=r;a<this.m;a++)n[a][e]+=s*this.QR[a][r]}for(r=this.n-1;0<=r;r--){for(e=0;e<i;e++)n[r][e]/=this.Rdiag[r];for(a=0;a<r;a++)for(e=0;e<i;e++)n[a][e]-=n[r][e]*this.QR[a][r]}return new Matrix(n,this.n,i).getMatrix$int$int$int$int(0,this.n-1,0,i-1)},t.serialVersionUID=1,t}();QRDecomposition.__class="QRDecomposition",QRDecomposition.__interfaces=["java.io.Serializable"];var LUDecomposition=function(){function t(t){void 0===this.LU&&(this.LU=null),void 0===this.m&&(this.m=0),void 0===this.n&&(this.n=0),void 0===this.pivsign&&(this.pivsign=0),void 0===this.piv&&(this.piv=null),this.LU=t.getArrayCopy(),this.m=t.getRowDimension(),this.n=t.getColumnDimension(),this.piv=function(t){for(var i=[];0<t--;)i.push(0);return i}(this.m);for(var i,n=0;n<this.m;n++)this.piv[n]=n;this.pivsign=1;for(var r,e,s=function(t){for(var i=[];0<t--;)i.push(0);return i}(this.m),a=0;a<this.n;a++){for(n=0;n<this.m;n++)s[n]=this.LU[n][a];for(n=0;n<this.m;n++){i=this.LU[n];for(var o=Math.min(n,a),h=0,c=0;c<o;c++)h+=i[c]*s[c];i[a]=s[n]-=h}for(var u=a,n=a+1;n<this.m;n++)Math.abs(s[n])>Math.abs(s[u])&&(u=n);if(u!==a){for(var l=0;l<this.n;l++){var f=this.LU[u][l];this.LU[u][l]=this.LU[a][l],this.LU[a][l]=f}c=this.piv[u];this.piv[u]=this.piv[a],this.piv[a]=c,this.pivsign=-this.pivsign}if(r=a<this.m,e=0!==this.LU[a][a],r&&e)for(n=a+1;n<this.m;n++)this.LU[n][a]/=this.LU[a][a]}}return t.prototype.isNonsingular=function(){for(var t=0;t<this.n;t++)if(0===this.LU[t][t])return!1;return!0},t.prototype.getL=function(){for(var t=new Matrix(this.m,this.n),i=t.getArray(),n=0;n<this.m;n++)for(var r=0;r<this.n;r++)i[n][r]=r<n?this.LU[n][r]:n===r?1:0;return t},t.prototype.getU=function(){for(var t=new Matrix(this.n,this.n),i=t.getArray(),n=0;n<this.n;n++)for(var r=0;r<this.n;r++)i[n][r]=n<=r?this.LU[n][r]:0;return t},t.prototype.getPivot=function(){for(var t=function(t){for(var i=[];0<t--;)i.push(0);return i}(this.m),i=0;i<this.m;i++)t[i]=this.piv[i];return t},t.prototype.getDoublePivot=function(){for(var t=function(t){for(var i=[];0<t--;)i.push(0);return i}(this.m),i=0;i<this.m;i++)t[i]=this.piv[i];return t},t.prototype.det=function(){if(this.m!==this.n)throw Object.defineProperty(new Error("Matrix must be square."),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});for(var t=this.pivsign,i=0;i<this.n;i++)t*=this.LU[i][i];return t},t.prototype.solve=function(t){if(t.getRowDimension()!==this.m)throw Object.defineProperty(new Error("Matrix row dimensions must agree."),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});if(!this.isNonsingular())throw Object.defineProperty(new Error("Matrix is singular."),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.Exception"]});for(var i=t.getColumnDimension(),t=t.getMatrix$int_A$int$int(this.piv,0,i-1),n=t.getArray(),r=0;r<this.n;r++)for(var e=r+1;e<this.n;e++)for(var s=0;s<i;s++)n[e][s]-=n[r][s]*this.LU[e][r];for(r=this.n-1;0<=r;r--){for(s=0;s<i;s++)n[r][s]/=this.LU[r][r];for(e=0;e<r;e++)for(s=0;s<i;s++)n[e][s]-=n[r][s]*this.LU[e][r]}return t},t.serialVersionUID=1,t}();LUDecomposition.__class="LUDecomposition",LUDecomposition.__interfaces=["java.io.Serializable"];var EigenvalueDecomposition=function(){function t(t){void 0===this.n&&(this.n=0),void 0===this.issymmetric&&(this.issymmetric=!1),void 0===this.d&&(this.d=null),void 0===this.e&&(this.e=null),void 0===this.V&&(this.V=null),void 0===this.H&&(this.H=null),void 0===this.ort&&(this.ort=null),void 0===this.cdivr&&(this.cdivr=0),void 0===this.cdivi&&(this.cdivi=0);var r,i=t.getArray();this.n=t.getColumnDimension(),this.V=(t=[this.n,this.n],(r=function(t){if(0===t.length)return 0;for(var i=[],n=0;n<t[0];n++)i.push(r(t.slice(1)));return i})(t)),this.d=function(t){for(var i=[];0<t--;)i.push(0);return i}(this.n),this.e=function(t){for(var i=[];0<t--;)i.push(0);return i}(this.n),this.issymmetric=!0;for(var n,e,s,a,o,h=0;s=h<this.n,a=this.issymmetric,s&&a;h++)for(var c=0;n=c<this.n,e=this.issymmetric,n&&e;c++)this.issymmetric=i[c][h]===i[h][c];if(this.issymmetric){for(c=0;c<this.n;c++)for(h=0;h<this.n;h++)this.V[c][h]=i[c][h];this.tred2(),this.tql2()}else{this.H=(t=[this.n,this.n],(o=function(t){if(0===t.length)return 0;for(var i=[],n=0;n<t[0];n++)i.push(o(t.slice(1)));return i})(t)),this.ort=function(t){for(var i=[];0<t--;)i.push(0);return i}(this.n);for(h=0;h<this.n;h++)for(c=0;c<this.n;c++)this.H[c][h]=i[c][h];this.orthes(),this.hqr2()}}return t.prototype.tred2=function(){for(var t=0;t<this.n;t++)this.d[t]=this.V[this.n-1][t];for(var i=this.n-1;0<i;i--){for(var n=0,r=0,e=0;e<i;e++)n+=Math.abs(this.d[e]);if(0===n){this.e[i]=this.d[i-1];for(t=0;t<i;t++)this.d[t]=this.V[i-1][t],this.V[i][t]=0,this.V[t][i]=0}else{for(e=0;e<i;e++)this.d[e]/=n,r+=this.d[e]*this.d[e];var s=this.d[i-1],a=Math.sqrt(r);0<s&&(a=-a),this.e[i]=n*a,r-=s*a,this.d[i-1]=s-a;for(t=0;t<i;t++)this.e[t]=0;for(t=0;t<i;t++){s=this.d[t],this.V[t][i]=s,a=this.e[t]+this.V[t][t]*s;for(e=t+1;e<=i-1;e++)a+=this.V[e][t]*this.d[e],this.e[e]+=this.V[e][t]*s;this.e[t]=a}for(t=s=0;t<i;t++)this.e[t]/=r,s+=this.e[t]*this.d[t];for(var o=s/(r+r),t=0;t<i;t++)this.e[t]-=o*this.d[t];for(t=0;t<i;t++){s=this.d[t],a=this.e[t];for(e=t;e<=i-1;e++)this.V[e][t]-=s*this.e[e]+a*this.d[e];this.d[t]=this.V[i-1][t],this.V[i][t]=0}}this.d[i]=r}for(i=0;i<this.n-1;i++){if(this.V[this.n-1][i]=this.V[i][i],this.V[i][i]=1,0!==(r=this.d[i+1])){for(e=0;e<=i;e++)this.d[e]=this.V[e][i+1]/r;for(t=0;t<=i;t++){for(a=0,e=0;e<=i;e++)a+=this.V[e][i+1]*this.V[e][t];for(e=0;e<=i;e++)this.V[e][t]-=a*this.d[e]}}for(e=0;e<=i;e++)this.V[e][i+1]=0}for(t=0;t<this.n;t++)this.d[t]=this.V[this.n-1][t],this.V[this.n-1][t]=0;this.V[this.n-1][this.n-1]=1,this.e[0]=0},t.prototype.tql2=function(){for(var t=1;t<this.n;t++)this.e[t-1]=this.e[t];for(var i=this.e[this.n-1]=0,n=0,r=Math.pow(2,-52),e=0;e<this.n;e++){n=Math.max(n,Math.abs(this.d[e])+Math.abs(this.e[e]));for(var s=e;s<this.n&&!(Math.abs(this.e[s])<=r*n);)s++;if(e<s)do{0;var a=this.d[e],o=(this.d[e+1]-a)/(2*this.e[e]),h=Maths.hypot(o,1);o<0&&(h=-h),this.d[e]=this.e[e]/(o+h),this.d[e+1]=this.e[e]*(o+h);for(var c=this.d[e+1],u=a-this.d[e],t=e+2;t<this.n;t++)this.d[t]-=u;i+=u,o=this.d[s];for(var l=1,f=l,y=l,p=this.e[e+1],x=0,d=0,t=s-1;e<=t;t--){y=f,d=x,a=(f=l)*this.e[t],u=l*o,h=Maths.hypot(o,this.e[t]),this.e[t+1]=x*h,x=this.e[t]/h,o=(l=o/h)*this.d[t]-x*a,this.d[t+1]=u+x*(l*a+x*this.d[t]);for(var g=0;g<this.n;g++)u=this.V[g][t+1],this.V[g][t+1]=x*this.V[g][t]+l*u,this.V[g][t]=l*this.V[g][t]-x*u}}while(o=-x*d*y*p*this.e[e]/c,this.e[e]=x*o,this.d[e]=l*o,Math.abs(this.e[e])>r*n);this.d[e]=this.d[e]+i,this.e[e]=0}for(t=0;t<this.n-1;t++){for(var g=t,o=this.d[t],v=t+1;v<this.n;v++)this.d[v]<o&&(g=v,o=this.d[v]);if(g!==t){this.d[g]=this.d[t],this.d[t]=o;for(v=0;v<this.n;v++)o=this.V[v][t],this.V[v][t]=this.V[v][g],this.V[v][g]=o}}},t.prototype.orthes=function(){for(var t=this.n-1,i=1;i<=t-1;i++){for(var n=0,r=i;r<=t;r++)n+=Math.abs(this.H[r][i-1]);if(0!==n){for(var e=0,r=t;i<=r;r--)this.ort[r]=this.H[r][i-1]/n,e+=this.ort[r]*this.ort[r];var s=Math.sqrt(e);0<this.ort[i]&&(s=-s),e-=this.ort[i]*s,this.ort[i]=this.ort[i]-s;for(var a=i;a<this.n;a++){for(var o=0,r=t;i<=r;r--)o+=this.ort[r]*this.H[r][a];o/=e;for(r=i;r<=t;r++)this.H[r][a]-=o*this.ort[r]}for(r=0;r<=t;r++){for(o=0,a=t;i<=a;a--)o+=this.ort[a]*this.H[r][a];o/=e;for(a=i;a<=t;a++)this.H[r][a]-=o*this.ort[a]}this.ort[i]=n*this.ort[i],this.H[i][i-1]=n*s}}for(r=0;r<this.n;r++)for(a=0;a<this.n;a++)this.V[r][a]=r===a?1:0;for(i=t-1;1<=i;i--)if(0!==this.H[i][i-1]){for(r=i+1;r<=t;r++)this.ort[r]=this.H[r][i-1];for(a=i;a<=t;a++){for(s=0,r=i;r<=t;r++)s+=this.ort[r]*this.V[r][a];s=s/this.ort[i]/this.H[i][i-1];for(r=i;r<=t;r++)this.V[r][a]+=s*this.ort[r]}}},t.prototype.cdiv=function(t,i,n,r){var e,s;Math.abs(n)>Math.abs(r)?(s=n+(e=r/n)*r,this.cdivr=(t+e*i)/s,this.cdivi=(i-e*t)/s):(s=r+(e=n/r)*n,this.cdivr=(e*t+i)/s,this.cdivi=(e*i-t)/s)},t.prototype.hqr2=function(){for(var t,i,n,r,e=this.n,s=e-1,a=e-1,o=Math.pow(2,-52),h=0,c=0,u=0,l=0,f=0,y=0,p=0,x=0;x<e;x++){(x<0||a<x)&&(this.d[x]=this.H[x][x],this.e[x]=0);for(var d=Math.max(x-1,0);d<e;d++)p+=Math.abs(this.H[x][d])}for(var g=0;0<=s;){for(var v=s;0<v&&(0===(f=Math.abs(this.H[v-1][v-1])+Math.abs(this.H[v][v]))&&(f=p),!(Math.abs(this.H[v][v-1])<o*f));)v--;if(v===s)this.H[s][s]=this.H[s][s]+h,this.d[s]=this.H[s][s],this.e[s]=0,s--,g=0;else if(v===s-1){if(i=this.H[s][s-1]*this.H[s-1][s],u=(c=(this.H[s-1][s-1]-this.H[s][s])/2)*c+i,y=Math.sqrt(Math.abs(u)),this.H[s][s]=this.H[s][s]+h,this.H[s-1][s-1]=this.H[s-1][s-1]+h,n=this.H[s][s],0<=u){y=0<=c?c+y:c-y,this.d[s-1]=n+y,this.d[s]=this.d[s-1],0!==y&&(this.d[s]=n-i/y),this.e[s-1]=0,this.e[s]=0,c=(n=this.H[s][s-1])/(f=Math.abs(n)+Math.abs(y)),u=y/f,c/=l=Math.sqrt(c*c+u*u),u/=l;for(d=s-1;d<e;d++)y=this.H[s-1][d],this.H[s-1][d]=u*y+c*this.H[s][d],this.H[s][d]=u*this.H[s][d]-c*y;for(x=0;x<=s;x++)y=this.H[x][s-1],this.H[x][s-1]=u*y+c*this.H[x][s],this.H[x][s]=u*this.H[x][s]-c*y;for(x=0;x<=a;x++)y=this.V[x][s-1],this.V[x][s-1]=u*y+c*this.V[x][s],this.V[x][s]=u*this.V[x][s]-c*y}else this.d[s-1]=n+c,this.d[s]=n+c,this.e[s-1]=y,this.e[s]=-y;s-=2,g=0}else{if(n=this.H[s][s],i=r=0,v<s&&(r=this.H[s-1][s-1],i=this.H[s][s-1]*this.H[s-1][s]),10===g){h+=n;for(x=0;x<=s;x++)this.H[x][x]-=n;n=r=.75*(f=Math.abs(this.H[s][s-1])+Math.abs(this.H[s-1][s-2])),i=-.4375*f*f}if(30===g&&0<(f=(f=(r-n)/2)*f+i)){f=Math.sqrt(f),r<n&&(f=-f),f=n-i/((r-n)/2+f);for(x=0;x<=s;x++)this.H[x][x]-=f;h+=f,n=r=i=.964}g+=1;for(var m=s-2;v<=m&&(c=((l=n-(y=this.H[m][m]))*(f=r-y)-i)/this.H[m+1][m]+this.H[m][m+1],u=this.H[m+1][m+1]-y-l-f,l=this.H[m+2][m+1],c/=f=Math.abs(c)+Math.abs(u)+Math.abs(l),u/=f,l/=f,m!==v)&&!(Math.abs(this.H[m][m-1])*(Math.abs(u)+Math.abs(l))<o*(Math.abs(c)*(Math.abs(this.H[m-1][m-1])+Math.abs(y)+Math.abs(this.H[m+1][m+1]))));)m--;for(x=m+2;x<=s;x++)this.H[x][x-2]=0,m+2<x&&(this.H[x][x-3]=0);for(var M=m;M<=s-1;M++){var _=M!==s-1;if(M!==m){if(c=this.H[M][M-1],u=this.H[M+1][M-1],l=_?this.H[M+2][M-1]:0,0===(n=Math.abs(c)+Math.abs(u)+Math.abs(l)))continue;c/=n,u/=n,l/=n}if(f=Math.sqrt(c*c+u*u+l*l),c<0&&(f=-f),0!==f){M!==m?this.H[M][M-1]=-f*n:v!==m&&(this.H[M][M-1]=-this.H[M][M-1]),n=(c+=f)/f,r=u/f,y=l/f,u/=c,l/=c;for(d=M;d<e;d++)c=this.H[M][d]+u*this.H[M+1][d],_&&(c+=l*this.H[M+2][d],this.H[M+2][d]=this.H[M+2][d]-c*y),this.H[M][d]=this.H[M][d]-c*n,this.H[M+1][d]=this.H[M+1][d]-c*r;for(x=0;x<=Math.min(s,M+3);x++)c=n*this.H[x][M]+r*this.H[x][M+1],_&&(c+=y*this.H[x][M+2],this.H[x][M+2]=this.H[x][M+2]-c*l),this.H[x][M]=this.H[x][M]-c,this.H[x][M+1]=this.H[x][M+1]-c*u;for(x=0;x<=a;x++)c=n*this.V[x][M]+r*this.V[x][M+1],_&&(c+=y*this.V[x][M+2],this.V[x][M+2]=this.V[x][M+2]-c*l),this.V[x][M]=this.V[x][M]-c,this.V[x][M+1]=this.V[x][M+1]-c*u}}}}if(0!==p){for(s=e-1;0<=s;s--)if(c=this.d[s],0===(u=this.e[s]))for(v=s,x=s-(this.H[s][s]=1);0<=x;x--){i=this.H[x][x]-c,l=0;for(d=v;d<=s;d++)l+=this.H[x][d]*this.H[d][s];if(this.e[x]<0)y=i,f=l;else if(v=x,0===this.e[x]?this.H[x][s]=0!==i?-l/i:-l/(o*p):(n=this.H[x][x+1],r=this.H[x+1][x],t=(n*f-y*l)/(u=(this.d[x]-c)*(this.d[x]-c)+this.e[x]*this.e[x]),this.H[x][s]=t,Math.abs(n)>Math.abs(y)?this.H[x+1][s]=(-l-i*t)/n:this.H[x+1][s]=(-f-r*t)/y),1<o*(t=Math.abs(this.H[x][s]))*t)for(d=x;d<=s;d++)this.H[d][s]=this.H[d][s]/t}else if(u<0){v=s-1;Math.abs(this.H[s][s-1])>Math.abs(this.H[s-1][s])?(this.H[s-1][s-1]=u/this.H[s][s-1],this.H[s-1][s]=-(this.H[s][s]-c)/this.H[s][s-1]):(this.cdiv(0,-this.H[s-1][s],this.H[s-1][s-1]-c,u),this.H[s-1][s-1]=this.cdivr,this.H[s-1][s]=this.cdivi),this.H[s][s-1]=0,this.H[s][s]=1;for(x=s-2;0<=x;x--){for(var $,b=void 0,A=void 0,w=void 0,b=0,A=0,d=v;d<=s;d++)b+=this.H[x][d]*this.H[d][s-1],A+=this.H[x][d]*this.H[d][s];if(i=this.H[x][x]-c,this.e[x]<0)y=i,l=b,f=A;else if(v=x,0===this.e[x]?(this.cdiv(-b,-A,i,u),this.H[x][s-1]=this.cdivr,this.H[x][s]=this.cdivi):(n=this.H[x][x+1],r=this.H[x+1][x],w=(this.d[x]-c)*(this.d[x]-c)+this.e[x]*this.e[x]-u*u,$=2*(this.d[x]-c)*u,0===w&&0==$&&(w=o*p*(Math.abs(i)+Math.abs(u)+Math.abs(n)+Math.abs(r)+Math.abs(y))),this.cdiv(n*l-y*b+u*A,n*f-y*A-u*b,w,$),this.H[x][s-1]=this.cdivr,this.H[x][s]=this.cdivi,Math.abs(n)>Math.abs(y)+Math.abs(u)?(this.H[x+1][s-1]=(-b-i*this.H[x][s-1]+u*this.H[x][s])/n,this.H[x+1][s]=(-A-i*this.H[x][s]-u*this.H[x][s-1])/n):(this.cdiv(-l-r*this.H[x][s-1],-f-r*this.H[x][s],y,u),this.H[x+1][s-1]=this.cdivr,this.H[x+1][s]=this.cdivi)),1<o*(t=Math.max(Math.abs(this.H[x][s-1]),Math.abs(this.H[x][s])))*t)for(d=x;d<=s;d++)this.H[d][s-1]=this.H[d][s-1]/t,this.H[d][s]=this.H[d][s]/t}}for(x=0;x<e;x++)if(x<0||a<x)for(d=x;d<e;d++)this.V[x][d]=this.H[x][d];for(d=e-1;0<=d;d--)for(x=0;x<=a;x++){for(M=y=0;M<=Math.min(d,a);M++)y+=this.V[x][M]*this.H[M][d];this.V[x][d]=y}}},t.prototype.getV=function(){return new Matrix(this.V,this.n,this.n)},t.prototype.getRealEigenvalues=function(){return this.d},t.prototype.getImagEigenvalues=function(){return this.e},t.prototype.getD=function(){for(var t=new Matrix(this.n,this.n),i=t.getArray(),n=0;n<this.n;n++){for(var r=0;r<this.n;r++)i[n][r]=0;i[n][n]=this.d[n],0<this.e[n]?i[n][n+1]=this.e[n]:this.e[n]<0&&(i[n][n-1]=this.e[n])}return t},t.serialVersionUID=1,t}();EigenvalueDecomposition.__class="EigenvalueDecomposition",EigenvalueDecomposition.__interfaces=["java.io.Serializable"];var CholeskyDecomposition=function(){function t(t){void 0===this.L&&(this.L=null),void 0===this.n&&(this.n=0),void 0===this.isspd&&(this.isspd=!1);var i,r,n=t.getArray();this.n=t.getRowDimension(),this.L=(i=[this.n,this.n],(r=function(t){if(0===t.length)return 0;for(var i=[],n=0;n<t[0];n++)i.push(r(t.slice(1)));return i})(i)),this.isspd=t.getColumnDimension()===this.n;for(var e,s,a=0;a<this.n;a++){for(var o=this.L[a],h=0,c=0;c<a;c++){for(var u=this.L[c],l=0,f=0;f<c;f++)l+=u[f]*o[f];o[c]=l=(n[a][c]-l)/this.L[c][c],h+=l*l,this.isspd=(e=this.isspd,s=n[c][a]===n[a][c],e&&s)}h=n[a][a]-h,this.isspd=this.isspd&&h>0,this.L[a][a]=Math.sqrt(Math.max(h,0));for(c=a+1;c<this.n;c++)this.L[a][c]=0}}return t.prototype.isSPD=function(){return this.isspd},t.prototype.getL=function(){return new Matrix(this.L,this.n,this.n)},t.prototype.solve=function(t){if(t.getRowDimension()!==this.n)throw Object.defineProperty(new Error("Matrix row dimensions must agree."),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});if(!this.isspd)throw Object.defineProperty(new Error("Matrix is not symmetric positive definite."),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.Exception"]});for(var i=t.getArrayCopy(),n=t.getColumnDimension(),r=0;r<this.n;r++)for(var e=0;e<n;e++){for(var s=0;s<r;s++)i[r][e]-=i[s][e]*this.L[r][s];i[r][e]/=this.L[r][r]}for(r=this.n-1;0<=r;r--)for(e=0;e<n;e++){for(s=r+1;s<this.n;s++)i[r][e]-=i[s][e]*this.L[s][r];i[r][e]/=this.L[r][r]}return new Matrix(i,this.n,n)},t.serialVersionUID=1,t}();CholeskyDecomposition.__class="CholeskyDecomposition",CholeskyDecomposition.__interfaces=["java.io.Serializable"];var Matrix=function(){function c(t,i,n){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||t[0]instanceof Array)||null===t)||"number"!=typeof i&&null!==i||"number"!=typeof n&&null!==n)if("number"!=typeof t&&null!==t||"number"!=typeof i&&null!==i||"number"!=typeof n&&null!==n)if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"==typeof t[0])||null===t)||"number"!=typeof i&&null!==i||void 0!==n)if("number"!=typeof t&&null!==t||"number"!=typeof i&&null!==i||void 0!==n){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||t[0]instanceof Array)||null===t)||void 0!==i||void 0!==n)throw new Error("invalid overload");l=arguments;void 0===this.A&&(this.A=null),void 0===this.m&&(this.m=0),void 0===this.n&&(this.n=0),this.m=t.length,this.n=t[0].length;for(a=0;a<this.m;a++)if(t[a].length!==this.n)throw Object.defineProperty(new Error("All rows must have the same length."),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});this.A=t}else{var r=(l=arguments)[0],e=l[1];void 0===this.A&&(this.A=null),void 0===this.m&&(this.m=0),void 0===this.n&&(this.n=0),this.m=r,this.n=e,this.A=(f=function(t){if(0===t.length)return 0;for(var i=[],n=0;n<t[0];n++)i.push(f(t.slice(1)));return i})([r,e])}else{var s=(l=arguments)[0];if(void 0===this.A&&(this.A=null),void 0===this.m&&(this.m=0),void 0===this.n&&(this.n=0),this.m=i,this.n=0!==i?s.length/i|0:0,i*this.n!==s.length)throw Object.defineProperty(new Error("Array length must be a multiple of m."),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});this.A=(e=[i,this.n],(y=function(t){if(0===t.length)return 0;for(var i=[],n=0;n<t[0];n++)i.push(y(t.slice(1)));return i})(e));for(var a=0;a<i;a++)for(u=0;u<this.n;u++)this.A[a][u]=s[a+u*i]}else{var o=(l=arguments)[0],h=l[1],c=l[2];void 0===this.A&&(this.A=null),void 0===this.m&&(this.m=0),void 0===this.n&&(this.n=0),this.m=o,this.n=h,this.A=(p=function(t){if(0===t.length)return 0;for(var i=[],n=0;n<t[0];n++)i.push(p(t.slice(1)));return i})([o,h]);for(var a=0;a<o;a++)for(var u=0;u<h;u++)this.A[a][u]=c}else{var l=arguments;void 0===this.A&&(this.A=null),void 0===this.m&&(this.m=0),void 0===this.n&&(this.n=0),this.A=t,this.m=i,this.n=n}var f,y,p}return c.constructWithCopy=function(t){for(var i=t.length,n=t[0].length,r=new c(i,n),e=r.getArray(),s=0;s<i;s++){if(t[s].length!==n)throw Object.defineProperty(new Error("All rows must have the same length."),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});for(var a=0;a<n;a++)e[s][a]=t[s][a]}return r},c.prototype.copy=function(){for(var t=new c(this.m,this.n),i=t.getArray(),n=0;n<this.m;n++)for(var r=0;r<this.n;r++)i[n][r]=this.A[n][r];return t},c.prototype.clone=function(){return this.copy()},c.prototype.getArray=function(){return this.A},c.prototype.getArrayCopy=function(){for(var t,r,i=(t=[this.m,this.n],(r=function(t){if(0===t.length)return 0;for(var i=[],n=0;n<t[0];n++)i.push(r(t.slice(1)));return i})(t)),n=0;n<this.m;n++)for(var e=0;e<this.n;e++)i[n][e]=this.A[n][e];return i},c.prototype.getColumnPackedCopy=function(){for(var t=function(t){for(var i=[];0<t--;)i.push(0);return i}(this.m*this.n),i=0;i<this.m;i++)for(var n=0;n<this.n;n++)t[i+n*this.m]=this.A[i][n];return t},c.prototype.getRowPackedCopy=function(){for(var t=function(t){for(var i=[];0<t--;)i.push(0);return i}(this.m*this.n),i=0;i<this.m;i++)for(var n=0;n<this.n;n++)t[i*this.n+n]=this.A[i][n];return t},c.prototype.getRowDimension=function(){return this.m},c.prototype.getColumnDimension=function(){return this.n},c.prototype.get=function(t,i){return this.A[t][i]},c.prototype.getMatrix$int$int$int$int=function(t,i,n,r){var e=new c(i-t+1,r-n+1),s=e.getArray();try{for(var a=t;a<=i;a++)for(var o=n;o<=r;o++){if(void 0===this.A[a][o]||void 0===s[a-t][o-n])throw new Error("undefined");s[a-t][o-n]=this.A[a][o]}}catch(t){throw Object.defineProperty(new Error("Submatrix indices"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.IndexOutOfBoundsException","java.lang.Object","java.lang.ArrayIndexOutOfBoundsException","java.lang.RuntimeException","java.lang.Exception"]})}return e},c.prototype.getMatrix=function(t,i,n,r){if("number"!=typeof t&&null!==t||"number"!=typeof i&&null!==i||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"==typeof t[0])||null===t)||"number"!=typeof i&&null!==i||"number"!=typeof n&&null!==n||void 0!==r){if("number"!=typeof t&&null!==t||"number"!=typeof i&&null!==i||!(null!=n&&n instanceof Array&&(0==n.length||null==n[0]||"number"==typeof n[0])||null===n)||void 0!==r){if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"==typeof t[0])||null===t)&&(null!=i&&i instanceof Array&&(0==i.length||null==i[0]||"number"==typeof i[0])||null===i)&&void 0===n&&void 0===r)return this.getMatrix$int_A$int_A(t,i);throw new Error("invalid overload")}return this.getMatrix$int$int$int_A(t,i,n)}return this.getMatrix$int_A$int$int(t,i,n)}return this.getMatrix$int$int$int$int(t,i,n,r)},c.prototype.getMatrix$int_A$int_A=function(t,i){var n=new c(t.length,i.length),r=n.getArray();try{for(var e=0;e<t.length;e++)for(var s=0;s<i.length;s++){if(void 0===this.A[t[e]][i[s]]||void 0===r[e][s])throw new Error("undefined");r[e][s]=this.A[t[e]][i[s]]}}catch(t){throw Object.defineProperty(new Error("Submatrix indices"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.IndexOutOfBoundsException","java.lang.Object","java.lang.ArrayIndexOutOfBoundsException","java.lang.RuntimeException","java.lang.Exception"]})}return n},c.prototype.getMatrix$int$int$int_A=function(t,i,n){var r=new c(i-t+1,n.length),e=r.getArray();try{for(var s=t;s<=i;s++)for(var a=0;a<n.length;a++){if(void 0===this.A[s][n[a]]||void 0===e[s-t][a])throw new Error("undefined");e[s-t][a]=this.A[s][n[a]]}}catch(t){throw Object.defineProperty(new Error("Submatrix indices"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.IndexOutOfBoundsException","java.lang.Object","java.lang.ArrayIndexOutOfBoundsException","java.lang.RuntimeException","java.lang.Exception"]})}return r},c.prototype.getMatrix$int_A$int$int=function(t,i,n){var r=new c(t.length,n-i+1),e=r.getArray();try{for(var s=0;s<t.length;s++)for(var a=i;a<=n;a++){if(void 0===this.A[t[s]][a]||void 0===e[s][a-i])throw new Error("undefined");e[s][a-i]=this.A[t[s]][a]}}catch(t){throw Object.defineProperty(new Error("Submatrix indices"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.IndexOutOfBoundsException","java.lang.Object","java.lang.ArrayIndexOutOfBoundsException","java.lang.RuntimeException","java.lang.Exception"]})}return r},c.prototype.set=function(t,i,n){this.A[t][i]=n},c.prototype.setMatrix$int$int$int$int$Matrix=function(t,i,n,r,e){try{for(var s=t;s<=i;s++)for(var a=n;a<=r;a++){if(void 0===e.get(s-t,a-n)||void 0===this.A[s][a])throw new Error("undefined");this.A[s][a]=e.get(s-t,a-n)}}catch(t){throw Object.defineProperty(new Error("Submatrix indices"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.IndexOutOfBoundsException","java.lang.Object","java.lang.ArrayIndexOutOfBoundsException","java.lang.RuntimeException","java.lang.Exception"]})}},c.prototype.setMatrix=function(t,i,n,r,e){if("number"!=typeof t&&null!==t||"number"!=typeof i&&null!==i||"number"!=typeof n&&null!==n||"number"!=typeof r&&null!==r||!(null!=e&&e instanceof c||null===e)){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"==typeof t[0])||null===t)||"number"!=typeof i&&null!==i||"number"!=typeof n&&null!==n||!(null!=r&&r instanceof c||null===r)||void 0!==e){if("number"!=typeof t&&null!==t||"number"!=typeof i&&null!==i||!(null!=n&&n instanceof Array&&(0==n.length||null==n[0]||"number"==typeof n[0])||null===n)||!(null!=r&&r instanceof c||null===r)||void 0!==e){if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"==typeof t[0])||null===t)&&(null!=i&&i instanceof Array&&(0==i.length||null==i[0]||"number"==typeof i[0])||null===i)&&(null!=n&&n instanceof c||null===n)&&void 0===r&&void 0===e)return this.setMatrix$int_A$int_A$Matrix(t,i,n);throw new Error("invalid overload")}return this.setMatrix$int$int$int_A$Matrix(t,i,n,r)}return this.setMatrix$int_A$int$int$Matrix(t,i,n,r)}return this.setMatrix$int$int$int$int$Matrix(t,i,n,r,e)},c.prototype.setMatrix$int_A$int_A$Matrix=function(t,i,n){try{for(var r=0;r<t.length;r++)for(var e=0;e<i.length;e++){if(void 0===n.get(r,e)||void 0===this.A[t[r]][i[e]])throw new Error("undefined");this.A[t[r]][i[e]]=n.get(r,e)}}catch(t){throw Object.defineProperty(new Error("Submatrix indices"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.IndexOutOfBoundsException","java.lang.Object","java.lang.ArrayIndexOutOfBoundsException","java.lang.RuntimeException","java.lang.Exception"]})}},c.prototype.setMatrix$int_A$int$int$Matrix=function(t,i,n,r){try{for(var e=0;e<t.length;e++)for(var s=i;s<=n;s++){if(void 0===r.get(e,s-i)||void 0===this.A[t[e]][s])throw new Error("undefined");this.A[t[e]][s]=r.get(e,s-i)}}catch(t){throw Object.defineProperty(new Error("Submatrix indices"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.IndexOutOfBoundsException","java.lang.Object","java.lang.ArrayIndexOutOfBoundsException","java.lang.RuntimeException","java.lang.Exception"]})}},c.prototype.setMatrix$int$int$int_A$Matrix=function(t,i,n,r){try{for(var e=t;e<=i;e++)for(var s=0;s<n.length;s++){if(void 0===r.get(e-t,s)||void 0===this.A[e][n[s]])throw new Error("undefined");this.A[e][n[s]]=r.get(e-t,s)}}catch(t){throw Object.defineProperty(new Error("Submatrix indices"),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.IndexOutOfBoundsException","java.lang.Object","java.lang.ArrayIndexOutOfBoundsException","java.lang.RuntimeException","java.lang.Exception"]})}},c.prototype.transpose=function(){for(var t=new c(this.n,this.m),i=t.getArray(),n=0;n<this.m;n++)for(var r=0;r<this.n;r++)i[r][n]=this.A[n][r];return t},c.prototype.norm1=function(){for(var t=0,i=0;i<this.n;i++){for(var n=0,r=0;r<this.m;r++)n+=Math.abs(this.A[r][i]);t=Math.max(t,n)}return t},c.prototype.norm2=function(){return new SingularValueDecomposition(this).norm2()},c.prototype.normInf=function(){for(var t=0,i=0;i<this.m;i++){for(var n=0,r=0;r<this.n;r++)n+=Math.abs(this.A[i][r]);t=Math.max(t,n)}return t},c.prototype.normF=function(){for(var t=0,i=0;i<this.m;i++)for(var n=0;n<this.n;n++)t=Maths.hypot(t,this.A[i][n]);return t},c.prototype.uminus=function(){for(var t=new c(this.m,this.n),i=t.getArray(),n=0;n<this.m;n++)for(var r=0;r<this.n;r++)i[n][r]=-this.A[n][r];return t},c.prototype.plus=function(t){this.checkMatrixDimensions(t);for(var i=new c(this.m,this.n),n=i.getArray(),r=0;r<this.m;r++)for(var e=0;e<this.n;e++)n[r][e]=this.A[r][e]+t.A[r][e];return i},c.prototype.plusEquals=function(t){this.checkMatrixDimensions(t);for(var i=0;i<this.m;i++)for(var n=0;n<this.n;n++)this.A[i][n]=this.A[i][n]+t.A[i][n];return this},c.prototype.minus=function(t){this.checkMatrixDimensions(t);for(var i=new c(this.m,this.n),n=i.getArray(),r=0;r<this.m;r++)for(var e=0;e<this.n;e++)n[r][e]=this.A[r][e]-t.A[r][e];return i},c.prototype.minusEquals=function(t){this.checkMatrixDimensions(t);for(var i=0;i<this.m;i++)for(var n=0;n<this.n;n++)this.A[i][n]=this.A[i][n]-t.A[i][n];return this},c.prototype.arrayTimes=function(t){this.checkMatrixDimensions(t);for(var i=new c(this.m,this.n),n=i.getArray(),r=0;r<this.m;r++)for(var e=0;e<this.n;e++)n[r][e]=this.A[r][e]*t.A[r][e];return i},c.prototype.arrayTimesEquals=function(t){this.checkMatrixDimensions(t);for(var i=0;i<this.m;i++)for(var n=0;n<this.n;n++)this.A[i][n]=this.A[i][n]*t.A[i][n];return this},c.prototype.arrayRightDivide=function(t){this.checkMatrixDimensions(t);for(var i=new c(this.m,this.n),n=i.getArray(),r=0;r<this.m;r++)for(var e=0;e<this.n;e++)n[r][e]=this.A[r][e]/t.A[r][e];return i},c.prototype.arrayRightDivideEquals=function(t){this.checkMatrixDimensions(t);for(var i=0;i<this.m;i++)for(var n=0;n<this.n;n++)this.A[i][n]=this.A[i][n]/t.A[i][n];return this},c.prototype.arrayLeftDivide=function(t){this.checkMatrixDimensions(t);for(var i=new c(this.m,this.n),n=i.getArray(),r=0;r<this.m;r++)for(var e=0;e<this.n;e++)n[r][e]=t.A[r][e]/this.A[r][e];return i},c.prototype.arrayLeftDivideEquals=function(t){this.checkMatrixDimensions(t);for(var i=0;i<this.m;i++)for(var n=0;n<this.n;n++)this.A[i][n]=t.A[i][n]/this.A[i][n];return this},c.prototype.times$double=function(t){for(var i=new c(this.m,this.n),n=i.getArray(),r=0;r<this.m;r++)for(var e=0;e<this.n;e++)n[r][e]=t*this.A[r][e];return i},c.prototype.timesEquals=function(t){for(var i=0;i<this.m;i++)for(var n=0;n<this.n;n++)this.A[i][n]=t*this.A[i][n];return this},c.prototype.times$Matrix=function(t){if(t.m!==this.n)throw Object.defineProperty(new Error("Matrix inner dimensions must agree."),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]});for(var i=new c(this.m,t.n),n=i.getArray(),r=function(t){for(var i=[];0<t--;)i.push(0);return i}(this.n),e=0;e<t.n;e++){for(var s=0;s<this.n;s++)r[s]=t.A[s][e];for(var a=0;a<this.m;a++){for(var o=this.A[a],h=0,s=0;s<this.n;s++)h+=o[s]*r[s];n[a][e]=h}}return i},c.prototype.times=function(t){if(null!=t&&t instanceof c||null===t)return this.times$Matrix(t);if("number"==typeof t||null===t)return this.times$double(t);throw new Error("invalid overload")},c.prototype.lu=function(){return new LUDecomposition(this)},c.prototype.qr=function(){return new QRDecomposition(this)},c.prototype.chol=function(){return new CholeskyDecomposition(this)},c.prototype.svd=function(){return new SingularValueDecomposition(this)},c.prototype.eig=function(){return new EigenvalueDecomposition(this)},c.prototype.solve=function(t){return new(this.m===this.n?LUDecomposition:QRDecomposition)(this).solve(t)},c.prototype.solveTranspose=function(t){return this.transpose().solve(t.transpose())},c.prototype.inverse=function(){return this.solve(c.identity(this.m,this.m))},c.prototype.det=function(){return new LUDecomposition(this).det()},c.prototype.rank=function(){return new SingularValueDecomposition(this).rank()},c.prototype.cond=function(){return new SingularValueDecomposition(this).cond()},c.prototype.trace=function(){for(var t=0,i=0;i<Math.min(this.m,this.n);i++)t+=this.A[i][i];return t},c.random=function(t,i){for(var n=new c(t,i),r=n.getArray(),e=0;e<t;e++)for(var s=0;s<i;s++)r[e][s]=Math.random();return n},c.identity=function(t,i){for(var n=new c(t,i),r=n.getArray(),e=0;e<t;e++)for(var s=0;s<i;s++)r[e][s]=e===s?1:0;return n},c.prototype.print=function(t,i){t+=2,console.info();for(var n=0;n<this.m;n++){for(var r=0;r<this.n;r++){for(var e=this.A[n][r].toFixed(i),s=Math.max(1,t-e.length),a=0;a<s;a++)console.info(" ");console.info(e)}console.info()}console.info()},c.prototype.checkMatrixDimensions=function(t){if(t.m!==this.m||t.n!==this.n)throw Object.defineProperty(new Error("Matrix dimensions must agree."),"__classes",{configurable:!0,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.IllegalArgumentException","java.lang.Exception"]})},c.serialVersionUID=1,c}();Matrix.__class="Matrix",Matrix.__interfaces=["java.lang.Cloneable","java.io.Serializable"];