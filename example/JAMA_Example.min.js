"use strict";var MagicSquareExample=function(){function d(){}return d.magic=function(t){var i,e=(i=function(t){if(0===t.length)return 0;for(var e=[],n=0;n<t[0];n++)e.push(i(t.slice(1)));return e})([t,t]);if(t%2==1)for(var n=(t+1)/2|0,r=t+1,o=0;o<t;o++)for(var a=0;a<t;a++)e[a][o]=t*((a+o+n)%t)+(a+2*o+r)%t+1;else if(t%4==0)for(o=0;o<t;o++)for(a=0;a<t;a++)e[a][o]=((a+1)/2|0)%2==((o+1)/2|0)%2?t*t-t*a-o:t*a+o+1;else{for(var g=t/2|0,f=(t-2)/4|0,u=d.magic(g),o=0;o<g;o++)for(a=0;a<g;a++){var s=u.get(a,o);e[a][o]=s,e[a][o+g]=s+2*g*g,e[a+g][o]=s+3*g*g,e[a+g][o+g]=s+g*g}for(a=0;a<g;a++){for(o=0;o<f;o++){var l=e[a][o];e[a][o]=e[a+g][o],e[a+g][o]=l}for(o=t-f+1;o<t;o++){var p=e[a][o];e[a][o]=e[a+g][o],e[a+g][o]=p}}var c=e[f][0];e[f][0]=e[f+g][0],e[f+g][0]=c,c=e[f][f],e[f][f]=e[f+g][f],e[f+g][f]=c}return new Matrix(e)},d.print=function(t){console.info(t)},d.fixedWidthDoubletoString=function(t,e,n){for(var i=t.toFixed(n);i.length<e;)i=" "+i;return i},d.fixedWidthIntegertoString=function(t,e){for(var n=""+t;n.length<e;)n=" "+n;return n},d.runExample=function(t){d.print("\n    Test of Matrix Class, using magic squares.\n"),d.print("    See MagicSquareExample.runExample() for an explanation.\n"),d.print("\n      n     trace       max_eig   rank        cond      lu_res      qr_res\n\n");for(var e=new Date,n=Math.pow(2,-52),i=3;i<=32;i++){d.print(d.fixedWidthIntegertoString(i,7));var r=d.magic(i),o=0|r.trace();d.print(d.fixedWidthIntegertoString(o,10));var a=new EigenvalueDecomposition(r.plus(r.transpose()).times$double(.5)).getRealEigenvalues();d.print(d.fixedWidthDoubletoString(a[i-1],14,3));var g=r.rank();d.print(d.fixedWidthIntegertoString(g,7));var f=r.cond();d.print(f<1/n?d.fixedWidthDoubletoString(f,12,3):"         Inf");o=new LUDecomposition(r),a=o.getL(),g=o.getU(),f=o.getPivot(),a=(o=a.times$Matrix(g).minus(r.getMatrix$int_A$int$int(f,0,i-1))).norm1()/(i*n);d.print(d.fixedWidthDoubletoString(a,12,3));g=new QRDecomposition(r),f=g.getQ(),o=g.getR(),a=(o=f.times$Matrix(o).minus(r)).norm1()/(i*n);d.print(d.fixedWidthDoubletoString(a,12,3)),d.print("\n")}e=((new Date).getTime()-e.getTime())/1e3;d.print("\nElapsed Time = "+d.fixedWidthDoubletoString(e,12,3)+" seconds\n"),d.print("Adios\n")},d}();MagicSquareExample.__class="MagicSquareExample";